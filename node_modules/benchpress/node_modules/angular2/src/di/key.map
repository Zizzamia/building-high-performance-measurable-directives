{"version":3,"sources":["key.js","@traceur/generated/TemplateParser/21","@traceur/generated/TemplateParser/19","@traceur/generated/TemplateParser/11","@traceur/generated/TemplateParser/2","@traceur/generated/TemplateParser/20","@traceur/generated/TemplateParser/5","@traceur/generated/TemplateParser/1","@traceur/generated/TemplateParser/13","@traceur/generated/TemplateParser/9","@traceur/generated/TemplateParser/867","@traceur/generated/TemplateParser/17","@traceur/generated/TemplateParser/14","@traceur/generated/TemplateParser/868","@traceur/generated/TemplateParser/10","@traceur/generated/TemplateParser/8"],"names":[],"mappings":"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","file":"/Users/tbosch/projects/angular2/modules/angular2/src/di/key.js","sourceRoot":"/Users/tbosch/projects/angular2/modules/angular2/src/di/","sourcesContent":["import {KeyMetadataError} from './exceptions';\nimport {MapWrapper, Map} from 'angular2/src/facade/collection';\nimport {FIELD, int, isPresent} from 'angular2/src/facade/lang';\n\nexport class Key {\n  token;\n  id:int;\n  metadata:any;\n  constructor(token, id:int) {\n    this.token = token;\n    this.id = id;\n    this.metadata = null;\n  }\n\n  static setMetadata(key:Key, metadata):Key {\n    if (isPresent(key.metadata) && key.metadata !== metadata) {\n      throw new KeyMetadataError();\n    }\n    key.metadata = metadata;\n    return key;\n  }\n\n  static get(token):Key {\n    return _globalKeyRegistry.get(token);\n  }\n\n  static get numberOfKeys():int {\n    return _globalKeyRegistry.numberOfKeys;\n  }\n}\n\nexport class KeyRegistry {\n  _allKeys:Map;\n  constructor() {\n    this._allKeys = MapWrapper.create();\n  }\n\n  get(token):Key {\n    if (token instanceof Key) return token;\n\n    if (MapWrapper.contains(this._allKeys, token)) {\n      return MapWrapper.get(this._allKeys, token);\n    }\n\n    var newKey = new Key(token, Key.numberOfKeys);\n    MapWrapper.set(this._allKeys, token, newKey);\n    return newKey;\n  }\n\n  get numberOfKeys():int {\n    return MapWrapper.size(this._allKeys);\n  }\n}\n\nvar _globalKeyRegistry = new KeyRegistry();\n","Object.defineProperties(module.exports, $__placeholder__0);","{get: $__placeholder__0}","get $__placeholder__0() { return $__placeholder__1; }","__esModule: true","{value: $__placeholder__0}","var __moduleName = $__placeholder__0;","($__placeholder__0 = require($__placeholder__1),\n        $__placeholder__2 && $__placeholder__3.__esModule && $__placeholder__4 || {default: $__placeholder__5})","var $__placeholder__0 = $__placeholder__1","assert.argumentTypes($__placeholder__0)","assert.type.any","var $__placeholder__0 = $__placeholder__1","($traceurRuntime.createClass)($__placeholder__0, $__placeholder__1, $__placeholder__2)","assert.type.any","return assert.returnType(($__placeholder__0), $__placeholder__1)","Object.defineProperty($__placeholder__0, $__placeholder__1,\n        {get: function() {return $__placeholder__2}});"]}