{"version":3,"sources":["template_loader.js","@traceur/generated/TemplateParser/21","@traceur/generated/TemplateParser/19","@traceur/generated/TemplateParser/11","@traceur/generated/TemplateParser/2","@traceur/generated/TemplateParser/20","@traceur/generated/TemplateParser/5","@traceur/generated/TemplateParser/1","@traceur/generated/TemplateParser/13","@traceur/generated/TemplateParser/9","@traceur/generated/TemplateParser/14","@traceur/generated/TemplateParser/8"],"names":[],"mappings":"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","file":"/Users/tbosch/projects/angular2/modules/angular2/src/core/compiler/template_loader.js","sourceRoot":"/Users/tbosch/projects/angular2/modules/angular2/src/core/compiler/","sourcesContent":["import {isBlank, isPresent, BaseException, stringify} from 'angular2/src/facade/lang';\nimport {DOM, Element} from 'angular2/src/facade/dom';\nimport {StringMapWrapper, StringMap} from 'angular2/src/facade/collection';\n\nimport {XHR} from './xhr/xhr';\n\nimport {Template} from 'angular2/src/core/annotations/template';\n\n/**\n * Strategy to load component templates.\n */\nexport class TemplateLoader {\n  _xhr: XHR;\n  _cache: StringMap;\n\n  constructor(xhr: XHR) {\n    this._xhr = xhr;\n    this._cache = StringMapWrapper.create();\n  }\n\n  // TODO(vicb): union type: return an Element or a Promise<Element>\n  load(template: Template) {\n    if (isPresent(template.inline)) {\n      return DOM.createTemplate(template.inline);\n    }\n\n    if (isPresent(template.url)) {\n      var url = template.url;\n      var promise = StringMapWrapper.get(this._cache, url);\n\n      if (isBlank(promise)) {\n        promise = this._xhr.get(url).then(function (html) {\n          var template = DOM.createTemplate(html);\n          return template;\n        });\n        StringMapWrapper.set(this._cache, url, promise);\n      }\n\n      return promise;\n    }\n\n    throw new BaseException(`Templates should have either their url or inline property set`);\n  }\n}\n","Object.defineProperties(module.exports, $__placeholder__0);","{get: $__placeholder__0}","get $__placeholder__0() { return $__placeholder__1; }","__esModule: true","{value: $__placeholder__0}","var __moduleName = $__placeholder__0;","($__placeholder__0 = require($__placeholder__1),\n        $__placeholder__2 && $__placeholder__3.__esModule && $__placeholder__4 || {default: $__placeholder__5})","var $__placeholder__0 = $__placeholder__1","assert.argumentTypes($__placeholder__0)","($traceurRuntime.createClass)($__placeholder__0, $__placeholder__1, $__placeholder__2)","Object.defineProperty($__placeholder__0, $__placeholder__1,\n        {get: function() {return $__placeholder__2}});"]}