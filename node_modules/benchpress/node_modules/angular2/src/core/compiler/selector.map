{"version":3,"sources":["selector.js","@traceur/generated/TemplateParser/21","@traceur/generated/TemplateParser/19","@traceur/generated/TemplateParser/11","@traceur/generated/TemplateParser/2","@traceur/generated/TemplateParser/20","@traceur/generated/TemplateParser/5","@traceur/generated/TemplateParser/1","@traceur/generated/TemplateParser/13","@traceur/generated/TemplateParser/17","@traceur/generated/TemplateParser/14","@traceur/generated/TemplateParser/9","@traceur/generated/TemplateParser/7","@traceur/generated/TemplateParser/10","@traceur/generated/TemplateParser/8","@traceur/generated/TemplateParser/2738","@traceur/generated/TemplateParser/25","@traceur/generated/TemplateParser/2739","@traceur/generated/TemplateParser/2740","@traceur/generated/TemplateParser/2741","@traceur/generated/TemplateParser/2742","@traceur/generated/TemplateParser/2743","@traceur/generated/TemplateParser/2744"],"names":[],"mappings":"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","file":"/Users/tbosch/projects/angular2/modules/angular2/src/core/compiler/selector.js","sourceRoot":"/Users/tbosch/projects/angular2/modules/angular2/src/core/compiler/","sourcesContent":["import {List, Map, ListWrapper, MapWrapper} from 'angular2/src/facade/collection';\nimport {isPresent, isBlank, RegExpWrapper, RegExpMatcherWrapper, StringWrapper} from 'angular2/src/facade/lang';\n\nconst _EMPTY_ATTR_VALUE = '';\n\n// TODO: Can't use `const` here as\n// in Dart this is not transpiled into `final` yet...\nvar _SELECTOR_REGEXP =\n    RegExpWrapper.create('^([-\\\\w]+)|' +    // \"tag\"\n    '(?:\\\\.([-\\\\w]+))|' +                   // \".class\"\n    '(?:\\\\[([-\\\\w*]+)(?:=([^\\\\]]*))?\\\\])'); // \"[name]\", \"[name=value]\" or \"[name*=value]\"\n\n/**\n * A css selector contains an element name,\n * css classes and attribute/value pairs with the purpose\n * of selecting subsets out of them.\n */\nexport class CssSelector {\n  element:string;\n  classNames:List;\n  attrs:List;\n  static parse(selector:string):CssSelector {\n    var cssSelector = new CssSelector();\n    var matcher = RegExpWrapper.matcher(_SELECTOR_REGEXP, selector);\n    var match;\n    while (isPresent(match = RegExpMatcherWrapper.next(matcher))) {\n      if (isPresent(match[1])) {\n        cssSelector.setElement(match[1]);\n      }\n      if (isPresent(match[2])) {\n        cssSelector.addClassName(match[2]);\n      }\n      if (isPresent(match[3])) {\n        cssSelector.addAttribute(match[3], match[4]);\n      }\n    }\n    return cssSelector;\n  }\n\n  constructor() {\n    this.element = null;\n    this.classNames = ListWrapper.create();\n    this.attrs = ListWrapper.create();\n  }\n\n  setElement(element:string = null) {\n    if (isPresent(element)) {\n      element = element.toLowerCase();\n    }\n    this.element = element;\n  }\n\n  addAttribute(name:string, value:string = _EMPTY_ATTR_VALUE) {\n    ListWrapper.push(this.attrs, name.toLowerCase());\n    if (isPresent(value)) {\n      value = value.toLowerCase();\n    } else {\n      value = _EMPTY_ATTR_VALUE;\n    }\n    ListWrapper.push(this.attrs, value);\n  }\n\n  addClassName(name:string) {\n    ListWrapper.push(this.classNames, name.toLowerCase());\n  }\n\n  toString():string {\n    var res = '';\n    if (isPresent(this.element)) {\n      res += this.element;\n    }\n    if (isPresent(this.classNames)) {\n      for (var i=0; i<this.classNames.length; i++) {\n        res += '.' + this.classNames[i];\n      }\n    }\n    if (isPresent(this.attrs)) {\n      for (var i=0; i<this.attrs.length;) {\n        var attrName = this.attrs[i++];\n        var attrValue = this.attrs[i++]\n        res += '[' + attrName;\n        if (attrValue.length > 0) {\n          res += '=' + attrValue;\n        }\n        res += ']';\n      }\n    }\n    return res;\n  }\n}\n\n/**\n * Reads a list of CssSelectors and allows to calculate which ones\n * are contained in a given CssSelector.\n */\nexport class SelectorMatcher {\n  _elementMap:Map;\n  _elementPartialMap:Map;\n  _classMap:Map;\n  _classPartialMap:Map;\n  _attrValueMap:Map;\n  _attrValuePartialMap:Map;\n  constructor() {\n    this._elementMap = MapWrapper.create();\n    this._elementPartialMap = MapWrapper.create();\n\n    this._classMap = MapWrapper.create();\n    this._classPartialMap = MapWrapper.create();\n\n    this._attrValueMap = MapWrapper.create();\n    this._attrValuePartialMap = MapWrapper.create();\n  }\n\n  /**\n   * Add an object that can be found later on by calling `match`.\n   * @param cssSelector A css selector\n   * @param selectable An opaque object that will be given to the callback of the `match` function\n   */\n  addSelectable(cssSelector:CssSelector, selectable) {\n    var matcher = this;\n    var element = cssSelector.element;\n    var classNames = cssSelector.classNames;\n    var attrs = cssSelector.attrs;\n\n    if (isPresent(element)) {\n      var isTerminal = attrs.length === 0 && classNames.length === 0;\n      if (isTerminal) {\n        this._addTerminal(matcher._elementMap, element, selectable);\n      } else {\n        matcher = this._addPartial(matcher._elementPartialMap, element);\n      }\n    }\n\n    if (isPresent(classNames)) {\n      for (var index = 0; index<classNames.length; index++) {\n        var isTerminal = attrs.length === 0 && index === classNames.length - 1;\n        var className = classNames[index];\n        if (isTerminal) {\n          this._addTerminal(matcher._classMap, className, selectable);\n        } else {\n          matcher = this._addPartial(matcher._classPartialMap, className);\n        }\n      }\n    }\n\n    if (isPresent(attrs)) {\n      for (var index = 0; index<attrs.length; ) {\n        var isTerminal = index === attrs.length - 2;\n        var attrName = attrs[index++];\n        var attrValue = attrs[index++];\n        var map = isTerminal ? matcher._attrValueMap : matcher._attrValuePartialMap;\n        var valuesMap = MapWrapper.get(map, attrName)\n        if (isBlank(valuesMap)) {\n          valuesMap = MapWrapper.create();\n          MapWrapper.set(map, attrName, valuesMap);\n        }\n        if (isTerminal) {\n          this._addTerminal(valuesMap, attrValue, selectable);\n        } else {\n          matcher = this._addPartial(valuesMap, attrValue);\n        }\n      }\n    }\n  }\n\n  _addTerminal(map:Map<string,string>, name:string, selectable) {\n    var terminalList = MapWrapper.get(map, name)\n    if (isBlank(terminalList)) {\n      terminalList = ListWrapper.create();\n      MapWrapper.set(map, name, terminalList);\n    }\n    ListWrapper.push(terminalList, selectable);\n  }\n\n  _addPartial(map:Map<string,string>, name:string) {\n    var matcher = MapWrapper.get(map, name)\n    if (isBlank(matcher)) {\n      matcher = new SelectorMatcher();\n      MapWrapper.set(map, name, matcher);\n    }\n    return matcher;\n  }\n\n  /**\n   * Find the objects that have been added via `addSelectable`\n   * whose css selector is contained in the given css selector.\n   * @param cssSelector A css selector\n   * @param matchedCallback This callback will be called with the object handed into `addSelectable`\n  */\n  match(cssSelector:CssSelector, matchedCallback:Function) {\n    var element = cssSelector.element;\n    var classNames = cssSelector.classNames;\n    var attrs = cssSelector.attrs;\n\n    this._matchTerminal(this._elementMap, element, matchedCallback);\n    this._matchPartial(this._elementPartialMap, element, cssSelector, matchedCallback);\n\n    if (isPresent(classNames)) {\n      for (var index = 0; index<classNames.length; index++) {\n        var className = classNames[index];\n        this._matchTerminal(this._classMap, className, matchedCallback);\n        this._matchPartial(this._classPartialMap, className, cssSelector, matchedCallback);\n      }\n    }\n\n    if (isPresent(attrs)) {\n      for (var index = 0; index<attrs.length;) {\n        var attrName = attrs[index++];\n        var attrValue = attrs[index++];\n\n        var valuesMap = MapWrapper.get(this._attrValueMap, attrName);\n        if (!StringWrapper.equals(attrValue, _EMPTY_ATTR_VALUE)) {\n          this._matchTerminal(valuesMap, _EMPTY_ATTR_VALUE, matchedCallback);\n        }\n        this._matchTerminal(valuesMap, attrValue, matchedCallback);\n\n        valuesMap = MapWrapper.get(this._attrValuePartialMap, attrName)\n        this._matchPartial(valuesMap, attrValue, cssSelector, matchedCallback);\n      }\n    }\n  }\n\n  _matchTerminal(map:Map<string,string> = null, name, matchedCallback) {\n    if (isBlank(map) || isBlank(name)) {\n      return;\n    }\n    var selectables = MapWrapper.get(map, name)\n    if (isBlank(selectables)) {\n      return;\n    }\n    for (var index=0; index<selectables.length; index++) {\n      matchedCallback(selectables[index]);\n    }\n  }\n\n  _matchPartial(map:Map<string,string> = null, name, cssSelector, matchedCallback) {\n    if (isBlank(map) || isBlank(name)) {\n      return;\n    }\n    var nestedSelector = MapWrapper.get(map, name)\n    if (isBlank(nestedSelector)) {\n      return;\n    }\n    // TODO(perf): get rid of recursion and measure again\n    // TODO(perf): don't pass the whole selector into the recursion,\n    // but only the not processed parts\n    nestedSelector.match(cssSelector, matchedCallback);\n  }\n}\n","Object.defineProperties(module.exports, $__placeholder__0);","{get: $__placeholder__0}","get $__placeholder__0() { return $__placeholder__1; }","__esModule: true","{value: $__placeholder__0}","var __moduleName = $__placeholder__0;","($__placeholder__0 = require($__placeholder__1),\n        $__placeholder__2 && $__placeholder__3.__esModule && $__placeholder__4 || {default: $__placeholder__5})","var $__placeholder__0 = $__placeholder__1","var $__placeholder__0 = $__placeholder__1","($traceurRuntime.createClass)($__placeholder__0, $__placeholder__1, $__placeholder__2)","assert.argumentTypes($__placeholder__0)","assert.type.$__placeholder__0)","return assert.returnType(($__placeholder__0), $__placeholder__1)","Object.defineProperty($__placeholder__0, $__placeholder__1,\n        {get: function() {return $__placeholder__2}});","assert.type.any","assert.genericType($__placeholder__0)","assert.type.any","assert.type.any","assert.type.any","assert.type.any","assert.type.any","assert.type.any"]}