{"version":3,"sources":["compile_control.js","@traceur/generated/TemplateParser/21","@traceur/generated/TemplateParser/19","@traceur/generated/TemplateParser/11","@traceur/generated/TemplateParser/2","@traceur/generated/TemplateParser/20","@traceur/generated/TemplateParser/5","@traceur/generated/TemplateParser/1","@traceur/generated/TemplateParser/13","@traceur/generated/TemplateParser/14","@traceur/generated/TemplateParser/9","@traceur/generated/TemplateParser/3222","@traceur/generated/TemplateParser/3223","@traceur/generated/TemplateParser/8"],"names":[],"mappings":"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","file":"/Users/tbosch/projects/angular2/modules/angular2/src/core/compiler/pipeline/compile_control.js","sourceRoot":"/Users/tbosch/projects/angular2/modules/angular2/src/core/compiler/pipeline/","sourcesContent":["import {isBlank} from 'angular2/src/facade/lang';\nimport {List, ListWrapper} from 'angular2/src/facade/collection';\nimport {CompileElement} from './compile_element';\nimport {CompileStep} from './compile_step';\n\n/**\n * Controls the processing order of elements.\n * Right now it only allows to add a parent element.\n */\nexport class CompileControl {\n  _steps:List<CompileStep>;\n  _currentStepIndex:number;\n  _parent:CompileElement;\n  _results;\n  _additionalChildren;\n  constructor(steps) {\n    this._steps = steps;\n    this._currentStepIndex = 0;\n    this._parent = null;\n    this._results = null;\n    this._additionalChildren = null;\n  }\n\n  // only public so that it can be used by compile_pipeline\n  internalProcess(results, startStepIndex, parent:CompileElement, current:CompileElement) {\n    this._results = results;\n    var previousStepIndex = this._currentStepIndex;\n    var previousParent = this._parent;\n\n    for (var i=startStepIndex; i<this._steps.length; i++) {\n      var step = this._steps[i];\n      this._parent = parent;\n      this._currentStepIndex = i;\n      step.process(parent, current, this);\n      parent = this._parent;\n    }\n    ListWrapper.push(results, current);\n\n    this._currentStepIndex = previousStepIndex;\n    this._parent = previousParent;\n\n    var localAdditionalChildren = this._additionalChildren;\n    this._additionalChildren = null;\n    return localAdditionalChildren;\n  }\n\n  addParent(newElement:CompileElement) {\n    this.internalProcess(this._results, this._currentStepIndex+1, this._parent, newElement);\n    this._parent = newElement;\n  }\n\n  addChild(element:CompileElement) {\n    if (isBlank(this._additionalChildren)) {\n      this._additionalChildren = ListWrapper.create();\n    }\n    ListWrapper.push(this._additionalChildren, element);\n  }\n}\n","Object.defineProperties(module.exports, $__placeholder__0);","{get: $__placeholder__0}","get $__placeholder__0() { return $__placeholder__1; }","__esModule: true","{value: $__placeholder__0}","var __moduleName = $__placeholder__0;","($__placeholder__0 = require($__placeholder__1),\n        $__placeholder__2 && $__placeholder__3.__esModule && $__placeholder__4 || {default: $__placeholder__5})","var $__placeholder__0 = $__placeholder__1","($traceurRuntime.createClass)($__placeholder__0, $__placeholder__1, $__placeholder__2)","assert.argumentTypes($__placeholder__0)","assert.type.any","assert.type.any","Object.defineProperty($__placeholder__0, $__placeholder__1,\n        {get: function() {return $__placeholder__2}});"]}