{"version":3,"sources":["shim_component.js","@traceur/generated/TemplateParser/21","@traceur/generated/TemplateParser/19","@traceur/generated/TemplateParser/11","@traceur/generated/TemplateParser/2","@traceur/generated/TemplateParser/20","@traceur/generated/TemplateParser/5","@traceur/generated/TemplateParser/1","@traceur/generated/TemplateParser/13","@traceur/generated/TemplateParser/9","@traceur/generated/TemplateParser/14","@traceur/generated/TemplateParser/7","@traceur/generated/TemplateParser/10","@traceur/generated/TemplateParser/8","@traceur/generated/TemplateParser/15","@traceur/generated/TemplateParser/17","@traceur/generated/TemplateParser/16","@traceur/generated/TemplateParser/385","@traceur/generated/TemplateParser/25"],"names":[],"mappings":"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","file":"/Users/tbosch/projects/angular2/modules/angular2/src/core/compiler/shadow_dom_emulation/shim_component.js","sourceRoot":"/Users/tbosch/projects/angular2/modules/angular2/src/core/compiler/shadow_dom_emulation/","sourcesContent":["import {Element, DOM} from 'angular2/src/facade/dom';\nimport {Map, MapWrapper} from 'angular2/src/facade/collection';\nimport {int, isBlank, Type} from 'angular2/src/facade/lang';\n\nimport {ShadowCss} from './shadow_css';\n\n/**\n * Used to shim component CSS & DOM\n */\nexport class ShimComponent {\n  constructor(component: Type) {\n  }\n\n  shimCssText(cssText: string): string {\n    return null\n  }\n\n  shimContentElement(element: Element) {}\n\n  shimHostElement(element: Element) {}\n}\n\n/**\n * Native components does not need to the shim.\n *\n * All methods are no-ops.\n */\nexport class ShimNativeComponent extends ShimComponent {\n  constructor(component: Type) {\n    super(component);\n  };\n\n  shimCssText(cssText: string): string {\n    return cssText;\n  }\n\n  shimContentElement(element: Element) {\n  }\n\n  shimHostElement(element: Element) {\n  }\n}\n\nvar _componentCache: Map<Type, int> = MapWrapper.create();\nvar _componentId: int = 0;\n\n// Reset the component cache - used for tests only\nexport function resetShimComponentCache() {\n  MapWrapper.clear(_componentCache);\n  _componentId = 0;\n}\n\n/**\n * Emulated components need to be shimmed:\n * - An attribute needs to be added to the host,\n * - An attribute needs to be added to all nodes in their content,\n * - The CSS needs to be scoped.\n */\nexport class ShimEmulatedComponent extends ShimComponent {\n  _cmpId: int;\n\n  constructor(component: Type) {\n    super(component);\n\n    // Generates a unique ID for components\n    var componentId = MapWrapper.get(_componentCache, component);\n    if (isBlank(componentId)) {\n      componentId = _componentId++;\n      MapWrapper.set(_componentCache, component, componentId);\n    }\n    this._cmpId = componentId;\n  };\n\n  // Scope the CSS\n  shimCssText(cssText: string): string {\n    var shadowCss = new ShadowCss();\n    return shadowCss.shimCssText(cssText, this._getContentAttribute(), this._getHostAttribute());\n  }\n\n  // Add an attribute on a content element\n  shimContentElement(element: Element) {\n    DOM.setAttribute(element, this._getContentAttribute(), '');\n  }\n\n  // Add an attribute to the host\n  shimHostElement(element: Element) {\n    DOM.setAttribute(element, this._getHostAttribute(), '');\n  }\n\n  // Return the attribute to be added to the component\n  _getHostAttribute() {\n    return `_nghost-${this._cmpId}`;\n  }\n\n  // Returns the attribute to be added on every single nodes in the component\n  _getContentAttribute() {\n    return `_ngcontent-${this._cmpId}`;\n  }\n}\n","Object.defineProperties(module.exports, $__placeholder__0);","{get: $__placeholder__0}","get $__placeholder__0() { return $__placeholder__1; }","__esModule: true","{value: $__placeholder__0}","var __moduleName = $__placeholder__0;","($__placeholder__0 = require($__placeholder__1),\n        $__placeholder__2 && $__placeholder__3.__esModule && $__placeholder__4 || {default: $__placeholder__5})","var $__placeholder__0 = $__placeholder__1","assert.argumentTypes($__placeholder__0)","($traceurRuntime.createClass)($__placeholder__0, $__placeholder__1, $__placeholder__2)","assert.type.$__placeholder__0)","return assert.returnType(($__placeholder__0), $__placeholder__1)","Object.defineProperty($__placeholder__0, $__placeholder__1,\n        {get: function() {return $__placeholder__2}});","$traceurRuntime.superConstructor($__placeholder__0).call($__placeholder__1)","var $__placeholder__0 = $__placeholder__1","($traceurRuntime.createClass)($__placeholder__0, $__placeholder__1, $__placeholder__2,\n                                       $__placeholder__3)","assert.type($__placeholder__0, $__placeholder__1)","assert.genericType($__placeholder__0)"]}